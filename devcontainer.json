# Install and load required packages
if (!require("pacman")) install.packages("pacman")
pacman::p_load('tidyverse', 'ggplot2', 'dplyr', 'RColorBrewer',
               'reshape2', 'corrplot', 'patchwork', 'devtools',
               'plotly', 'vcd')

# Install ggmosaic from GitHub if not already installed
if (!require("ggmosaic")) {
  devtools::install_github("haleyjeppson/ggmosaic", upgrade = "never")
}

# Print installed package versions for reference
ip <- installed.packages()
packages <- c('tidyverse', 'ggplot2', 'dplyr', 'RColorBrewer',
              'reshape2', 'corrplot', 'patchwork', 'devtools',
              'plotly', 'vcd', 'ggmosaic')
cat("Installed package versions:\n")
for(pkg in packages) {
  if(pkg %in% rownames(ip)) {
    cat(pkg, ": ", ip[pkg, "Version"], "\n", sep="")
  } else {
    cat(pkg, ": Not installed\n", sep="")
  }
}